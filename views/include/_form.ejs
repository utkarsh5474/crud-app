<!-- form handling -->

<script>
  function getTimeStamp() {
     var now = new Date();
     return  ( now.getDate())+ '/' +((now.getMonth() + 1) + " - " + ((now.getHours() < 10) ? ("0" + now.getHours()) : (now.getHours())) + ':'+ ((now.getMinutes() < 10) ? ("0" + now.getMinutes()) : (now.getMinutes())));
}
</script>

<form action="/api/users" method="POST" id="add_user">

  <div class="new-user container">

    <div class="form-group">
      <div for="name" class="form-element">Name of station</div>
      <input type="hidden" name="id" value="" />
      <input type="text" name="name" value="" required class="form-control"/>
    </div>

    <div class="form-group">
      <div for="location" class="form-element">Location</div>
      <input type="hidden" name="id" value="" />
      <input type="text" name="location" value="" class="form-control" />
    </div>

    <div class="form-group">
      <div for="city" class="form-element">City</div>
      <div class="p"> (If you can't see your city in the dropdown list below, just type the name and submit)</div>
      <div>
        <input type="hidden" name="id" value="" />
        <input type="text" name="city" id="name" required list="cityname" autocomplete="off" placeholder="Select" class="searchbar form-control">
            <datalist id="cityname">
              <% cities.forEach(function(city){ %>
                <option value="<%= city %>">
              <% }) %>
            </datalist>
          </input>
          
      </div>
    </div>

    
    <div class="form-group">
      <div for="Contact" class="form-element">Contact</div>
      <input type="tel" name="contact" required value="" class="form-control"/>
    </div>

    <div class="form-group">
      <div for="availability" class="form-element">Availability</div>
      <div>
        <input type="hidden" name="id" value="" class="form-control"/>
        <select name="availability" value="" class="form-control">
          <optgroup div="Availability">
          <option for="availability" value="Yes" name="availability">Yes</option>
          <option for="availability" value="No" name="availability">No</option></optgroup>
        </select>
      </div>
    </div>

    <div class="form-group text-center">
      <input name="timestamp" id="timestamp" type="hidden" value=""/>
      <button type="submit" class="btn btn-outline-primary button form-button form-control" onclick="document.getElementById('timestamp').value=getTimeStamp()">Save</button>
    </div>
  </div>
</form>
